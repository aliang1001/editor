(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(20)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(11),a=n.n(o),s=(n(18),n(8)),c=n(2),l=n(1);function u(e,t){for(var n=[],r=t,i=r.parentNode;i&&e.contains(i);i=r.parentNode){var o=Array.from(i.childNodes).indexOf(r);console.assert(-1!==o,"Impossible!"),n.push(o),r=i}if(r!==e)throw new Error("Cannot find child inside the root.");return n.reverse()}function h(e,t){var n=e,r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,l=n.childNodes[c];if(!l)throw new Error("Invalid path.");n=l}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function f(e,t){if(0===t)return 0;var n=e.wholeText.slice(0,t),r=0,i=!0,o=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){s.value;r++}}catch(l){o=!0,a=l}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}return r}var d=function(){function e(t,n,r){if(Object(c.a)(this,e),this.host=void 0,this.start=void 0,this.end=void 0,n.node!==h(t,n.path))throw new Error("Invalid start point.");if(r.node!==h(t,r.path))throw new Error("Invalid end point.");if(this.host=t,function(e,t){if(e.node===t.node)return e.offset<t.offset;for(var n=e.path,r=t.path,i=Math.max(n.length,r.length),o=0,a=Array.from(Array(i).keys());o<a.length;o++){var s=a[o];if(n[s]<r[s])return!0;if(n[s]>r[s])return!1}return!1}(n,r)){var i=[n,r];this.start=i[0],this.end=i[1]}else{var o=[r,n];this.start=o[0],this.end=o[1]}}return Object(l.a)(e,[{key:"selectRange",value:function(){!function(e){var t=document.getSelection();if(t&&(t.anchorNode!==e.startContainer||t.anchorOffset!==e.startOffset||t.focusNode!==e.endContainer||t.focusOffset!==e.endOffset)&&(t.focusNode!==e.startContainer||t.focusOffset!==e.startOffset||t.anchorNode!==e.endContainer||t.anchorOffset!==e.endOffset)){t.removeAllRanges();var n=new Range;n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset),t.addRange(n)}}({startContainer:this.start.node,startOffset:this.start.offset,endContainer:this.end.node,endOffset:this.end.offset,collapsed:!1})}}],[{key:"fromDict",value:function(t){var n=t.host,r=t.node1,i=t.path1,o=t.offset1,a=t.node2,s=t.path2,c=t.offset2;return new e(n,{path:i,node:r,offset:o,codePointOffset:f(r,o)},{path:s,node:a,offset:c,codePointOffset:f(a,c)})}},{key:"fromPaths",value:function(t,n,r,i,o){var a=h(t,n),s=h(t,i);return e.fromDict({host:t,node1:a,path1:n,offset1:r,node2:s,path2:i,offset2:o})}},{key:"fromNodes",value:function(t,n,r,i,o){var a=u(t,n),s=u(t,i);return e.fromDict({host:t,node1:n,path1:a,offset1:r,node2:i,path2:s,offset2:o})}},{key:"fromStaticRange",value:function(t,n){return e.fromNodes(t,n.startContainer,n.startOffset,n.endContainer,n.endOffset)}},{key:"fromSelection",value:function(t,n){var r=function(e,t){var n=t.anchorNode,r=t.anchorOffset,i=t.focusNode,o=t.focusOffset;return n&&i&&e.contains(n)&&e.contains(i)?{startContainer:n,startOffset:r,endContainer:i,endOffset:o,collapsed:n===i&&r===o}:null}(t,n);return r?e.fromStaticRange(t,r):null}}]),e}(),v=n(12),y=n(4),p=n(5),b=n(6);var g=function(){function e(){var t=this;Object(c.a)(this,e),this.observer=void 0,this.pendingRecords=[],this.savedRange=null,this.observing=!1,this.observer=new MutationObserver(function(e){t.pendingRecords=t.pendingRecords.concat(e)})}return Object(l.a)(e,[{key:"attach",value:function(e){this.observer.observe(e,{subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0});var t=document.getSelection();if(!t)throw new Error("Method getSelection() returns null.");this.savedRange=d.fromSelection(e,t),this.observing=!0}},{key:"detach",value:function(){this.observer.disconnect(),this.pendingRecords=[],this.observing=!1}},{key:"restore",value:function(){var e=this.pendingRecords.concat(this.observer.takeRecords());e.reverse(),this.detach();var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("characterData"===a.type&&(a.target.nodeValue=a.oldValue),"childList"===a.type){for(var s=Array.from(a.addedNodes),c=0,l=s;c<l.length;c++){var u=l[c];a.target.removeChild(u)}for(var h=Array.from(a.removedNodes),f=0,d=h;f<d.length;f++){var v=d[f];a.target.insertBefore(v,a.nextSibling)}}}}catch(p){n=!0,r=p}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}var y=this.savedRange;return this.savedRange=null,y.selectRange(),y}}]),e}();function m(e){return void 0!==e.isComposing?e.isComposing:-1!==new String(e.inputType).toLowerCase().search("composition")}var O,w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(y.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).browserSupported="other"!==function(){var e=navigator.userAgent.toLowerCase();return-1===e.indexOf("safari")?"other":e.indexOf("chrome")>-1?"chrome":"safari"}(),n.observer=new g,n.hostRef=i.a.createRef(),n.pendingCallbacks=[],n.onInsertionOrDeletion=function(e,t){var r="insertText"===e.inputType?function(){return n.props.onInsertText(t,e.data)}:function(){return n.props.onDeleteContent(t)};e.cancelable?r():(n.observer.attach(n.host),n.pendingCallbacks.push(r))},n.onBeforeInput=function(e){if(!m(e)){e.preventDefault();var t=e.getTargetRanges()[0],r=d.fromStaticRange(n.host,t);switch(e.inputType){case"insertText":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":return void n.onInsertionOrDeletion(e,r)}var i=function(){switch(e.inputType){case"insertParagraph":if(n.props.onInsertParagraph)return n.props.onInsertParagraph(r);default:return}};e.cancelable?i():(n.observer.attach(n.host),n.pendingCallbacks.push(i))}},n.onInput=function(e){if(n.observer.observing&&!m(e)){n.observer.restore();var t=!0,r=!1,i=void 0;try{for(var o,a=n.pendingCallbacks[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){(0,o.value)()}}catch(s){r=!0,i=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}n.pendingCallbacks=[]}},n.onCompositionStart=function(e){n.observer.attach(n.host)},n.onCompositionEnd=function(e){var t=n.observer.restore();n.props.onInsertText(t,e.data)},n}return Object(b.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.host;e.addEventListener("compositionstart",this.onCompositionStart),e.addEventListener("compositionend",this.onCompositionEnd),e.addEventListener("beforeinput",this.onBeforeInput),e.addEventListener("input",this.onInput)}},{key:"render",value:function(){if(!this.browserSupported)return i.a.createElement("p",null,"Support for Input Event level 1 or higher is required.");var e=this.props,t=e.tag,n=e.children;return i.a.createElement(t||"p",Object(v.a)({contentEditable:!0,suppressContentEditableWarning:!0,ref:this.hostRef},this.props.props),n)}},{key:"host",get:function(){var e=this.hostRef.current;if(!e)throw new Error("Element ref is not initialized.");return e}}]),t}(r.Component),k=n(9);!function(e){e[e.Outside=1]="Outside",e[e.Overlapping=2]="Overlapping",e[e.Inside=3]="Inside"}(O||(O={}));var x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(y.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).hostRef=i.a.createRef(),n.composing=!1,n.rangeStatus=function(e){var t=e.anchorNode,r=e.focusNode,i=Object(k.a)(n),o=i.host,a=i.props,s=a.isRelevant;a.onPartialOverlap,a.onSelectionChange;if(!t||!r)return O.Outside;var c=o.contains(t),l=o.contains(r);return c||l?c!==l?n.props.onPartialOverlap?O.Overlapping:O.Outside:s&&!s(e)?O.Outside:O.Inside:O.Outside},n.handleSelectionChange=function(e){switch(n.rangeStatus(e)){case O.Outside:return void n.props.onSelectionChange(null);case O.Overlapping:return void(n.props.onPartialOverlap&&n.props.onPartialOverlap(e));default:n.props.onSelectionChange(e)}},n}return Object(b.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{ref:this.hostRef},this.props.children)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.range();t?t.selectRange():this.deselectHost(),document.addEventListener("selectionchange",function(t){if(!e.composing){var n=window.getSelection();if(!n)throw new Error("Cannot get selection.");e.handleSelectionChange(n)}}),document.addEventListener("compositionstart",function(t){e.composing=!0}),document.addEventListener("compositionend",function(t){e.composing=!1})}},{key:"componentDidUpdate",value:function(){var e=this.props.range();e?e.selectRange():this.deselectHost()}},{key:"deselectHost",value:function(){var e=window.getSelection();if(!e)throw new Error("Cannot get selection.");this.rangeStatus(e)===O.Inside&&e.removeAllRanges()}},{key:"host",get:function(){var e=this.hostRef.current;if(!e)throw new Error("Element ref is not initialized.");return e}}]),t}(r.Component),j=w,C=n(7),S=function(e){function t(e){var n;return Object(c.a)(this,t),n=e?Object(y.a)(this,Object(p.a)(t).call(this,e)):Object(y.a)(this,Object(p.a)(t).call(this)),Object(y.a)(n)}return Object(b.a)(t,e),Object(l.a)(t,[{key:"with",value:function(e){return this.merge(e)}},{key:"css",get:function(){var e=this.color,t=this.fontSize,n=this.lineHeight;return{fontFamily:this.fontFallbackList.join(", "),color:e,fontSize:t,lineHeight:n,whiteSpace:"pre-wrap"}}},{key:"cssString",get:function(){var e=this.fontFallbackList.map(function(e){return'"'.concat(e,'"')}).join(", "),t=this.color,n=this.fontSize,r=this.lineHeight;return"\n      font-family: ".concat(e,";\n      color: ").concat(t,";\n      font-size: ").concat(n,"px;\n      line-height: ").concat(r,";\n      white-space: pre-wrap;")}}]),t}(Object(C.a)({fontFallbackList:["-apple-system","BlinkMacSystemFont"],color:"black",fontSize:16,lineHeight:1.5})),E=function(){function e(t,n,r){Object(c.a)(this,e),this.text=void 0,this.style=void 0,this.width=void 0,this.text=t,this.style=n,this.width=r}return Object(l.a)(e,[{key:"createDiv",value:function(e){var t=document.createElement("div");t.innerHTML=e;var n="\n        ".concat(this.style.cssString,"\n        width: ").concat(this.width,"px;\n        position: absolute;\n        top: -99999px;\n        visibility: none;");return t.setAttribute("style",n),t}},{key:"caretRect",value:function(e){var t=this.text.slice(0,e),n=this.text.slice(e),r=this.createDiv("<span>".concat(t,"</span><span>").concat(n,"</span>"));document.body.appendChild(r);var i=r.children[1],o=i.offsetLeft,a=i.offsetTop;document.body.removeChild(r);return{origin:{x:o,y:a},size:{width:2,height:1.2*this.style.fontSize}}}},{key:"height",get:function(){var e=this.createDiv(this.text);document.body.appendChild(e);var t=e.clientHeight;return document.body.removeChild(e),t}}]),e}(),R=new(function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"createParagraph",value:function(e,t,n){return new E(e,t,n)}}]),e}()),I=function(e){function t(e){var n;return Object(c.a)(this,t),n=e?Object(y.a)(this,Object(p.a)(t).call(this,e)):Object(y.a)(this,Object(p.a)(t).call(this)),Object(y.a)(n)}return Object(b.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:this.style.css},this.text)}},{key:"heightGivenWidth",value:function(e){return R.createParagraph(this.text,this.style,e).height}},{key:"caretRect",value:function(e,t){return R.createParagraph(this.text,this.style,t).caretRect(e)}},{key:"baseFontSize",get:function(){return this.style.fontSize}}]),t}(Object(C.a)({style:new S,text:""})),B=function(e){return e.block.render()},T=n(3),P=function(){function e(){var t=this;Object(c.a)(this,e),this.counter=0,this.observers=[],setInterval(function(){t.counter+=1;var e=["everyOne"];t.counter%2===0&&e.push("everyTwo"),t.counter%4===0&&e.push("everyFour");var n=!0,r=!1,i=void 0;try{for(var o,a=t.observers[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){o.value.resourceChanged(e)}}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}},1e3)}return Object(l.a)(e,[{key:"retrieve",value:function(e){return"everyOne"===e?"counter = ".concat(this.everyOne,"; update every second"):"everyTwo"===e?"counter = ".concat(this.everyTwo,"; update every two seconds"):"everyFour"===e?"counter = ".concat(this.everyFour,"; update every four seconds"):"resource not found"}},{key:"everyOne",get:function(){return this.counter}},{key:"everyTwo",get:function(){return Math.floor(this.counter/2)}},{key:"everyFour",get:function(){return Math.floor(this.counter/4)}}]),Object(l.a)(e,[{key:"observe",value:function(e){this.observers.push(e)}},{key:"unobserve",value:function(e){var t=this.observers.indexOf(e);-1!==t&&(this.observers=[].concat(Object(T.a)(this.observers.slice(0,t)),Object(T.a)(this.observers.slice(t+1))))}}]),e}();var z=function(e){function t(e){var n;return Object(c.a)(this,t),n=e?Object(y.a)(this,Object(p.a)(t).call(this,e)):Object(y.a)(this,Object(p.a)(t).call(this)),Object(y.a)(n)}return Object(b.a)(t,e),Object(l.a)(t,[{key:"with",value:function(e){return this.merge(e)}},{key:"compile",value:function(e){var t=function(e){switch(e){case"heading1":return new S({fontSize:48});case"heading2":return new S({fontSize:32});case"heading3":return new S({fontSize:24});case"singleQuote":return new S({color:"grey",fontSize:32});default:return new S}}(this.kind);return new I({style:t,text:this.text})}}]),t}(Object(C.a)({kind:"paragraph",text:""})),N=function(){function e(t){Object(c.a)(this,e),this.resource=void 0,this.resource=t}return Object(l.a)(e,[{key:"compile",value:function(e){var t=new S;return new I({style:t,text:e.retrieve(this.resource)})}}]),e}();function H(e,t){var n=e.x-t.origin.x,r=e.y-t.origin.y;return!(n<0||n>t.size.width)&&!(r<0||r>t.size.height)}function L(e,t){switch(t.kind){case"insertion":var n=t.index,r=t.value;return{kind:"insertion",index:n,value:e(r)};case"deletion":return{kind:"deletion",index:t.index};case"update":var i=t.index,o=t.value;return{kind:"update",index:i,value:e(o)};case"sequential":return{kind:"sequential",group:t.group.map(function(t){return L(e,t)})}}}function M(e,t){switch(t.kind){case"insertion":var n=t.index,r=t.value;return[].concat(Object(T.a)(e.slice(0,n)),[r],Object(T.a)(e.slice(n)));case"deletion":var i=t.index;return[].concat(Object(T.a)(e.slice(0,i)),Object(T.a)(e.slice(i+1)));case"update":var o=t.index,a=t.value;return(e=e.slice(0))[o]=a,e;case"sequential":var s=t.group,c=!0,l=!1,u=void 0;try{for(var h,f=s[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){e=M(e,h.value)}}catch(d){l=!0,u=d}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}return e}}var D=function(){function e(t){Object(c.a)(this,e),this.list=void 0,this.observers=[],this.list=t}return Object(l.a)(e,[{key:"apply",value:function(e){this.list=M(this.list,e);var t=!0,n=!1,r=void 0;try{for(var i,o=this.observers[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.sourceTreeMutationReceived(e)}}catch(a){n=!0,r=a}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"observe",value:function(e){this.observers.push(e)}},{key:"unobserve",value:function(e){var t=this.observers.indexOf(e);-1!==t&&(this.observers=[].concat(Object(T.a)(this.observers.slice(0,t)),Object(T.a)(this.observers.slice(t+1))))}}]),e}(),W=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.source=void 0,this.coordinator=void 0,this.list=void 0,this.observers=[],this.source=t,this.source.observe(this),this.coordinator=n,this.coordinator.observe(this),this.list=t.list.map(function(e){return e.compile(r.coordinator)})}return Object(l.a)(e,[{key:"sourceTreeMutationReceived",value:function(e){var t=this,n=L(function(e){return e.compile(t.coordinator)},e);this.list=M(this.list,n);var r=!0,i=!1,o=void 0;try{for(var a,s=this.observers[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.resolvedTreeMutationReceived(n)}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"observe",value:function(e){this.observers.push(e)}},{key:"unobserve",value:function(e){var t=this.observers.indexOf(e);-1!==t&&(this.observers=[].concat(Object(T.a)(this.observers.slice(0,t)),Object(T.a)(this.observers.slice(t+1))))}},{key:"resourceChanged",value:function(e){var t=this,n=[],r=!0,i=!1,o=void 0;try{for(var a,c=this.source.list.entries()[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var l=a.value,u=Object(s.a)(l,2),h=u[0],f=u[1];f instanceof N&&-1!==e.indexOf(f.resource)&&n.push(h)}}catch(m){i=!0,o=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}var d={kind:"sequential",group:n.map(function(e){return{kind:"update",index:e,value:t.source.list[e].compile(t.coordinator)}})};this.list=M(this.list,d);var v=!0,y=!1,p=void 0;try{for(var b,g=this.observers[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){b.value.resolvedTreeMutationReceived(d)}}catch(m){y=!0,p=m}finally{try{v||null==g.return||g.return()}finally{if(y)throw p}}}}]),e}(),F={padding:{top:20,bottom:20,left:20,right:20},spacingBetweenBlock:20},A=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F;Object(c.a)(this,e),this.resolved=void 0,this.containerWidth=void 0,this.layoutConfig=void 0,this.heights=void 0,this.rects=[],this.contentHeight=0,this.observers=[],this.resolved=t,this.resolved.observe(this),this.containerWidth=n,this.layoutConfig=i,this.heights=t.list.map(function(e){return e.heightGivenWidth(r.contentWidth)}),this.fixRects()}return Object(l.a)(e,[{key:"contentWidth",get:function(){var e=this.layoutConfig.padding,t=e.left,n=e.right;return this.containerWidth-t-n}}]),Object(l.a)(e,[{key:"observe",value:function(e){this.observers.push(e)}},{key:"unobserve",value:function(e){var t=this.observers.indexOf(e);-1!==t&&(this.observers=[].concat(Object(T.a)(this.observers.slice(0,t)),Object(T.a)(this.observers.slice(t+1))))}},{key:"fixRects",value:function(){var e=this.contentWidth,t=this.layoutConfig,n=t.padding,r=t.spacingBetweenBlock,i=[],o=n.top,a=!0,s=!1,c=void 0;try{for(var l,u=this.heights[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var h=l.value,f={origin:{x:n.left,y:o},size:{width:e,height:h}};o+=h+r,i.push(f)}}catch(d){s=!0,c=d}finally{try{a||null==u.return||u.return()}finally{if(s)throw c}}this.rects=i,this.contentHeight=o-r+n.bottom}},{key:"resolvedTreeMutationReceived",value:function(e){var t=this,n=L(function(e){return e.heightGivenWidth(t.contentWidth)},e);this.heights=M(this.heights,n),this.fixRects();var r=!0,i=!1,o=void 0;try{for(var a,s=this.observers[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.layoutUpdated()}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}},{key:"blockIndexForPoint",value:function(e){for(var t=0;t<this.rects.length;t+=1){if(H(e,this.rects[t]))return t}return-1}},{key:"caretRect",value:function(e,t){var n=this.rects[e].origin,r=this.resolved.list[e].caretRect(t,this.contentWidth),i=r.origin,o=r.size;return{origin:{x:n.x+i.x,y:n.y+i.y},size:o}}}]),e}(),V=function(){function e(t,n){var r=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(c.a)(this,e),this.layout=void 0,this.containerHeight=void 0,this.offset=void 0,this.allocator=void 0,this.visibleBlocks=void 0,this.setVisibleBlocks=void 0,this.layout=t,this.layout.observe(this),this.containerHeight=n,this.offset=0,this.allocator=new q,this.visibleBlocks=this.visibleBlockIndices.map(function(e){return{key:r.allocator.requestKey(),index:e,rect:r.layout.rects[e],block:r.layout.resolved.list[e]}})}return Object(l.a)(e,[{key:"visibleBlockIndices",get:function(){for(var e=this,t=this.layout.rects,n=function(){for(var n=0;n<t.length;n+=1){var r=t[n];if(r.origin.y+r.size.height>=e.offset)return n}return t.length}(),r=function(){for(var n=t.length-1;n>=0;n-=1){if(t[n].origin.y<=e.offset+e.containerHeight)return n}return-1}(),i=[],o=n;o<=r;o+=1)i.push(o);return i}}]),Object(l.a)(e,[{key:"fixVisibleBlocks",value:function(){var e=this,t=this.visibleBlockIndices,n=!0,r=!1,i=void 0;try{for(var o,a=this.visibleBlocks[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=s.index,l=s.key;-1===t.indexOf(c)&&this.allocator.recycleKey(l)}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.visibleBlocks=t.map(function(t){var n=e.visibleBlocks.find(function(e){return e.index===t}),r=n?n.key:e.allocator.requestKey(),i=e.layout.rects[t],o=e.layout.resolved.list[t];return{key:r,index:t,rect:i,block:o}}),this.setVisibleBlocks&&this.setVisibleBlocks(this.visibleBlocks)}},{key:"scrollTo",value:function(e){this.offset=e,this.fixVisibleBlocks()}},{key:"layoutUpdated",value:function(){this.offset=Math.min(this.offset,this.layout.contentHeight-this.containerHeight),this.fixVisibleBlocks()}}]),e}();var q=function(){function e(){Object(c.a)(this,e),this.used=[],this.total=0}return Object(l.a)(e,[{key:"requestKey",value:function(){var e=this.used,t=this.total;if(e.length===t){var n=t;return this.used.push(n),this.total+=1,n}for(var r=0,i=0;i<e.length;i+=1){if(e[i]!==r)return this.used=[].concat(Object(T.a)(e.slice(0,i)),[r],Object(T.a)(e.slice(i))),r;r+=1}if(r<t)return this.used.push(r),r;throw new Error("Logic error. Should have found a key by now.")}},{key:"recycleKey",value:function(e){var t=this.used,n=t.indexOf(e);-1!==n&&(this.used=[].concat(Object(T.a)(t.slice(0,n)),Object(T.a)(t.slice(n+1))))}}]),e}();var J=["Hello there!","Sith Lords are our specialty!","It\u2019s over Anakin! I have the high ground!","That\u2019s why I\u2019m here.","In my experience, there\u2019s no such thing as luck.","Why do I feel you\u2019re going to be the death of me?","Wait a minute. How did this happen? we\u2019re smarter than this.","I hate it when he does that.","Only a Sith deals in absolutes. I will do what I must.","Who\u2019s more foolish: the fool or the fool who follows him?","If you strike me down I will become more powerful than you could possibly imagine.","So what I told you was true, from a certain point of view.","Oh I have a bad feeling about this.","My allegiance is to the republic, to democracy!","I am the SENATE. Not yet. It\u2019s treason then.","A surprise, to be sure, but a welcome one.","I\u2019ve been waiting a long time for this moment. Wipe them out, All of them.","Did you ever hear the tragedy of Darth Plagueis the Wise? I thought not, it is not a story the Jedi would tell you. It is a Sith Legend.","If one is to understand the great mystery, one must study all its aspects, not just the narrow dogmatic narrow view of the Jedi."],K=["heading1","heading2","heading3","singleQuote","paragraph"],Y=function(e){for(var t=[],n=1;n<=e;n+=1)t.push(n);return t}(100).map(function(e){var t=K[Math.floor(Math.random()*K.length)],n=J[Math.floor(Math.random()*J.length)];return new z({kind:t,text:n})}),G=[new N("everyOne"),new N("everyTwo"),new N("everyFour")].concat(Object(T.a)(Y));n(19);function U(e){var t=e.origin,n=t.x,r=t.y,i=e.size,o=i.width;return{position:"absolute",top:r,left:n,height:i.height,width:o}}var Q=function(e){var t=e.rect;if(!t)return i.a.createElement("div",{style:{display:"none"}});var n=U(t);return i.a.createElement("div",{className:"caret-blink",style:n})},X=function(e){var t=e.rect,n=e.id,r=e.children,o=U(t);return i.a.createElement("div",{style:o,"data-id":n},r)},$=function(e){var t=e.containerSize,n=e.contentHeight,r=e.children,o=i.a.useRef(null),a=e.onScroll,s=e.onClick,c=i.a.useCallback(function(e){if(o.current&&a){var t=o.current.scrollTop;a(t)}},[a]),l=i.a.useCallback(function(e){if(o.current&&s){var t={x:e.clientX,y:e.clientY},n={x:e.pageX-o.current.offsetLeft+o.current.scrollLeft,y:e.pageY-o.current.offsetTop+o.current.scrollTop};s(t,n)&&e.preventDefault()}},[s]),u={height:t.height,width:t.width,overflowY:"scroll",backgroundColor:"white"},h={position:"relative",width:"100%",height:n},f=e.outerClass,d=e.innerClass;return i.a.createElement("div",{style:u,className:f,ref:o,onScroll:c},i.a.createElement("div",{style:h,className:d,onClick:l},r))},Z={height:600,width:600},_=function(){var e=function(e,t){var n=i.a.useMemo(function(){var n=new P,r=new D(e),i=new W(r,n),o=new A(i,t.width);return[r,i,o,new V(o,t.height)]},[e,t]),r=Object(s.a)(n,4),o=r[0],a=r[1],c=r[2],l=r[3],u=i.a.useState(l.visibleBlocks),h=Object(s.a)(u,2),f=h[0],d=h[1];l.setVisibleBlocks||(l.setVisibleBlocks=d);var v=i.a.useCallback(function(e){l.scrollTo(e)},[l]),y=i.a.useCallback(function(e){o.apply(e)},[o,l]);return{source:o,resolved:a,layout:c,render:l,visibleBlocks:f,setOffset:v,commit:y}}(G,Z),t=e.resolved,n=e.layout,r=e.visibleBlocks,o=e.setOffset,a=e.commit,c=i.a.useState(null),l=Object(s.a)(c,2),u=l[0],h=l[1],f=i.a.useRef(null),v=i.a.useCallback(function(e){o(e)},[o]),y=i.a.useCallback(function(e,t){var r=n.blockIndexForPoint(t);if(-1===r)h(null);else{var i=function(e){var t=e.x,n=e.y;if(document.caretPositionFromPoint){var r=document.caretPositionFromPoint(t,n);return r?{node:r.offsetNode,offset:r.offset}:null}if(document.caretRangeFromPoint){var i=document.caretRangeFromPoint(t,n);return{node:i.startContainer,offset:i.startOffset}}throw new Error("Your browser is not supported.")}(e);h(i?{index:r,offset:i.offset}:null)}return!0},[n]),p=i.a.useCallback(function(){return function(e,t,n){if(!n)return null;var r=n.index,i=n.offset;if(!e.current)return null;var o=e.current.host;return t.list[r].text.length>0?d.fromPaths(o,[0,0],i,[0,0],i):d.fromPaths(o,[0],0,[0],0)}(f,t,u)},[t,u]),b=i.a.useCallback(function(e){if(e){if(u){var t=e.anchorOffset;h({index:u.index,offset:t})}}else h(null)},[u]),g=i.a.useCallback(function(e,n){if(u){var r=t.source.list[u.index],i=r.text.slice(0,u.offset)+n+r.text.slice(u.offset),o=r.merge({text:i});h({index:u.index,offset:u.offset+n.length}),a({kind:"update",index:u.index,value:o})}},[u,a,t.source.list]),m=i.a.useCallback(function(e){if(u){var n=t.source.list[u.index],r=n.text.slice(0,e.start.offset)+n.text.slice(e.end.offset),i=n.merge({text:r});h({index:u.index,offset:e.start.offset}),a({kind:"update",index:u.index,value:i})}},[u,a,t.source.list]),O=i.a.useCallback(function(){},[]),w=u&&n.caretRect(u.index,u.offset);return i.a.createElement("div",null,i.a.createElement("h1",null,u?"\u5f53\u524d\u7684\u5149\u6807\u4f4d\u7f6e\uff0c\u7b2c ".concat(u.index+1," \u4e2a\u6bb5\u843d\uff0c\u504f\u79fb\u91cf ").concat(u.offset,"\u3002"):"\u672a\u9009\u4e2d"),i.a.createElement($,{containerSize:Z,contentHeight:n.contentHeight,onScroll:v,onClick:y},r.map(function(e){return i.a.createElement(X,{key:e.key,rect:e.rect,id:JSON.stringify(e.index)},i.a.createElement(B,{block:e.block}))}),i.a.createElement(Q,{rect:w}))," ",i.a.createElement(x,{range:p,onSelectionChange:b},i.a.createElement(j,{tag:"div",props:{},ref:f,onInsertText:g,onDeleteContent:m,onInsertParagraph:O},u&&i.a.createElement(B,{block:t.list[u.index]}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.a442d6e6.chunk.js.map